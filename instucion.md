# Инструкция по работе с git
![Git emblem](git.jpg)
**Git** - это программа  *контроля версий*, позволяющая:
- *экономить место на диске*, 
- *совместно работать с файлами*

## Создание репозитория
*Репозиторий* - место, где хранятся и поддерживаются какие-либо данные. Чаще всего данные в репозитории хранятся в виде файлов, доступных для дальнейшего распространения по сети.

*Для создания репозитория*, необходимо выбрать папку (open folder) и ввести в терминал команду инициализации:

    >git init

## Проверка состояния репозитория
Проверка состояния *выводит список проиндексированных и неотслеживаемых файлов*, а также файлов, удаленных из индекса Git.

Она показывает, какие изменения были внесены с помощью команд git add и git commit.

*Для проверки состояния репозитория* необходимо ввести команду:

    >git status

## Добавление в индекс
Сохранив изменения файла нажатием комбинации ctrl+s, далее необходимо добавить эти изменения в индекс (буфер). Этот буфер берется в качестве следующего коммита.

Для добавления изменений в индекс используется команда:

    >git add <filename>

## Создание коммитов
Сохраненные в буфере изменения файла еще не зафиксированны программой Git. Фиксация изменений называется коммитом.

Коммиты можно создать только после индексации (git add) или одновременно с ней.

*Для создания коммита* после индексации необходимо ввести команду:

    >git commit

После выполнения данной команды **открывается интерфейс сообщений,** где необходимо записать комментарий к коммиту, сохранить и выйти из интерфейсай (для vim команда выхода >:wq)

Для лечения данного геморроя команда git commit имеет базовые параметры:
- -a (включает в себя add + commit)
    >git commit -a
- -m "" (позволяет миновать интерфейс сообщений и сразу ввести комментарий для коммита в кавычках)
    >git commit -m "<комментарий>"
- -am "" (включает в себя две предыдущие команды)
    >git commit -am "комментарий"

## Журнал коммитов
Журнал коммитов включает в себя информацию о всех существующих коммитах.

Для просмотра журнала коммитов используется команда:

    >git log

Данная команда также имеет несколько параметров:
- --all (показывает все существующие коммиты, а не только видимые в текущем положении)
    >git log --all
- --oneline (показывает только хеш номера коммита и комментарий к нему)
    >git log --oneline
- --all --oneline (можно использовать сразу несколько параметров)
    >git log --all --oneline

## Машина времени
Git позволяет переключаться между коммитами, возвращаясь к предыдущим фиксациям. Это может потребоваться, если, например, где-то в прошлом допущена ошибка.

Переход между коммитами осуществляется при помощи номера коммита, или его хэша.
Для перехода к нужному коммиту необходимо ввести команду:

    >git checkout <hash>

## Список изменений
В ситуации, когда индексация и фиксация изменений не произошла, а информация об этих изменениях забыта, помогает список изменений.

Он показывает разницу *между последним коммитом и текущим состоянием файла*. Выводится командой:

    >git diff

Можно посмотреть разницу между двумя коммитами. В зависимости от расположения на дереве и порядка в команде, изменения будут инициализированы либо как добавленные, либо как удаленные.

Посмотреть разницу *между двумя коммитами* можно так:

    >git diff <hash_1> <hash_2>

## Ветки в Git
Ветки в Git нужны для отклонения от линии основной разработки, чтобы работать и вносить изменения независимо от нее. Это позволяет разработчикам продолжать работу, не изменяя рабочую версию, а при необходимости объединять нужные ветки.

### Просмотр существующих веток
В терминале текущая ветка помечается звездочкой и выделена зеленым цветом. Посмотреть все существующие ветки можно командой

    >git branch

### Создание веток
Для правильной работы создаваемых веток смотри **Порядок действий при создании ветки**. Для простого создания ветки существует команда

    >git branch <branch_name>

### Преключение между ветками
Главная ветка имеет название *main(master)*. Если необходимо внести изменения в созданной ветке, отдельно от главной ветки main, для начала нужно переключиться на нее. *Переключиться на необходимую ветку* можно командой

    >git checkout <branch_name>

### Объединение веток
Ветки с завершенными изменениями можно объединять. Чтобы выполнить слияние, нужно вернуться на главную ветку и слить с ней разрабатываемую ветку командой

    >git merge <branch_name>
При слиянии веток могут возникать ошибки: если обе ветки меняют одну и ту же строку. В таком случае выбираем, какие измеения необходимо оставить, при необходимости редактируем изменения.

### **Порядок действий при создании ветки**
- Создаем новую ветку командой 

    *>git branch <branch_name>*

- Делаем коммит *(для того чтобы была визуализация дерева в терминале)* командой. Коммит можно сделать, только внеся изменения в активную ветку, например, можно написать только заголовок для будущих изменений.

    *>git commit -am "Create new branch"*

- Переходим на новую ветку командой 

    *>git checkout <branch_name>*

- Работаем в новой ветке, сохраняем изменения, создаем коммит

- Возвращаемся в главную ветку 

    *>git checkout main*

- При необходимости выполняем слияние веток командой 

    *>git merge название_ответвления*

- Удаляем ненужную ветку командой

    *>git branch -d <branch_name>*

- Посмотреть дерево слияния можно с помощью параметра --graph
команды log. Параметр --all выводит все коммиты и ветки, а не только видимые в текущем положении.

    *>git log --all --oneline --graph*
